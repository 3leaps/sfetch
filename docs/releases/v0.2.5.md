# v0.2.5

## Summary
Self-update now has explicit version-aware behavior (skip/reinstall/downgrade guards) and uses a schema-backed embedded config as its auditable “update target” definition.

## Highlights

### Self-update version checking
- `--self-update` skips reinstall when already at the target version (exit 0).
- `--self-update-force` reinstalls the same version and allows major-version jumps.
- `--tag` supports explicit downgrades (major-version guard still applies unless forced).
- `--dry-run` includes a “Version check” section with current/target/status.

### Embedded update target config
- Self-update now loads an embedded config rather than relying on inference defaults.
- New flags:
  - `--show-update-config`
  - `--validate-update-config`
- Config and schema:
  - `configs/update/sfetch.json`
  - `schemas/update-target.schema.json` (JSON Schema 2020-12; references `schemas/repo-config.schema.json`)

### Reusable library surface (initial)
- `pkg/update` contains the self-update decision matrix and version comparison helpers, so downstream code can reuse the exact same decision logic (see `pkg/update/README.md`).

### Signing workflow standardization
- All signing-related environment variables now use an `SFETCH_` prefix for CI/scripting consistency:
  - `MINISIGN_KEY` → `SFETCH_MINISIGN_KEY`
  - `PGP_KEY_ID` → `SFETCH_PGP_KEY_ID`
  - `GPG_HOMEDIR` → `SFETCH_GPG_HOMEDIR`
  - Added `SFETCH_MINISIGN_PUB` for explicit public key path
- Updated scripts: `sign-release-assets.sh`, `export-release-key.sh`
- Updated `RELEASE_CHECKLIST.md` and `Makefile` with new variable names

## Notes
- Host support is currently GitHub-only at runtime (`source.type=github`), but the schema is intended to be extended for additional hosts.
